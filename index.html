<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Manual do Aprovado - Diagn√≥stico Interativo</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
</head>
<body>
  <div class="background"></div>
  <header>
    <div class="header-glass">
      <span class="avatar">üìò</span>
      <h1>Manual do Aprovado</h1>
      <span class="subtitle">Diagn√≥stico Interativo</span>
    </div>
  </header>
  <main>
    <div class="card-glass" id="quiz-card">
      <!-- Fluxo renderizado aqui -->
    </div>
    <div id="progress-bar-container">
      <div id="progress-bar"></div>
    </div>
  </main>
  <footer>
    <span>¬© 2025 Manual do Aprovado</span>
    <a href="https://instagram.com/pg_concursos_" target="_blank">@pg_concursos_</a>
  </footer>
  <script>
    // ================= FLUXO L√ìGICO ======================
    const steps = [
      // STEP 0: Nome
      {
        id: 0,
        question: "Antes de come√ßar: qual seu nome?",
        type: "input",
        inputPlaceholder: "Digite seu nome aqui",
        next: 1,
      },
      // STEP 1: PROBLEMA CENTRAL
      {
        id: 1,
        question: (state) => `Ol√°, ${state.nome || "concurseiro(a)"}! Voc√™ sente que estuda muito, mas n√£o v√™ evolu√ß√£o real nos seus resultados?`,
        options: [
          { text: "Sim, sinto isso", next: 2 },
          { text: "N√£o, estou progredindo", next: 10 },
        ],
      },
      // STEP 2: Tentou mudar m√©todo?
      {
        id: 2,
        question: "Voc√™ j√° tentou mudar o m√©todo de estudo pra resolver esse problema?",
        options: [
          { text: "J√° tentei, mas n√£o adiantou", next: 3 },
          { text: "Nunca tentei", next: 4 },
        ],
      },
      // STEP 3: Tem um plano CLARO?
      {
        id: 3,
        feedback: "Entendi. √Äs vezes o problema est√° no m√©todo, n√£o s√≥ no esfor√ßo.",
        question: "Hoje, voc√™ segue um plano claro de estudos (como ciclo, rotina, planejamento)?",
        options: [
          { text: "Sim, tenho um plano", next: 5 },
          { text: "N√£o, estudo meio perdido", next: 6 },
        ],
      },
      // STEP 4: Organiza estudo de alguma forma?
      {
        id: 4,
        feedback: "Quase todo mundo come√ßa tentando na for√ßa bruta, sem m√©todo. Mas h√° solu√ß√£o!",
        question: "Hoje, voc√™ organiza seus estudos de alguma forma, ou s√≥ vai fazendo o que d√°?",
        options: [
          { text: "Tenho alguma organiza√ß√£o", next: 5 },
          { text: "N√£o, fa√ßo tudo sem ordem", next: 6 },
        ],
      },
      // STEP 5: Faz revis√µes realmente eficientes?
      {
        id: 5,
        feedback: "√ìtimo! Ter um plano j√° √© metade do caminho. Agora, me diz:",
        question: "Voc√™ revisa o conte√∫do de forma realmente eficiente, sem bagun√ßa?",
        options: [
          { text: "Sim, reviso bem", next: 7 },
          { text: "N√£o, revis√£o √© problema pra mim", next: 7 },
        ],
      },
      // STEP 6: O caos...
      {
        id: 6,
        feedback: "T√° tudo bem, muita gente come√ßa assim! Mas olha s√≥:",
        question: "Voc√™ j√° ouviu falar em Ciclo de Estudos (o m√©todo que mais aprova hoje)?",
        options: [
          { text: "J√° ouvi, mas nunca usei", next: 7 },
          { text: "Nunca ouvi falar", next: 7 },
        ],
      },
      // STEP 7: Quest√µes
      {
        id: 7,
        feedback: "Quest√£o pol√™mica entre os iniciantes...",
        question: "Voc√™ resolve quest√µes TODO DIA ou s√≥ quando sobra tempo?",
        options: [
          { text: "Todo dia!", next: 8 },
          { text: "S√≥ quando d√°", next: 8 },
          { text: "Quase nunca fa√ßo quest√µes", next: 8 },
        ],
      },
      // STEP 8: D√∫vida sobre material
      {
        id: 8,
        feedback: "E na hora de escolher material para estudar?",
        question: "Voc√™ se sente seguro(a) ou fica perdido(a) com tanta op√ß√£o de apostilas, PDFs, videoaulas?",
        options: [
          { text: "Consigo escolher bem", next: 9 },
          { text: "Fico totalmente perdido(a)", next: 9 },
        ],
      },
      // STEP 9: Definiu √°rea/objetivo?
      {
        id: 9,
        question: "Voc√™ j√° definiu sua √°rea ou cargo dos sonhos, ou ainda est√° meio perdido(a)?",
        options: [
          { text: "J√° defini", next: "final" },
          { text: "Ainda estou meio perdido(a)", next: "final" },
        ],
      },
      // STEP 10: Usu√°rio que est√° progredindo
      {
        id: 10,
        feedback: "Excelente! Mesmo assim, deixa eu perguntar mais algumas coisas:",
        question: "Voc√™ j√° foi aprovado em algum concurso ou ainda est√° na luta?",
        options: [
          { text: "J√° fui aprovado", next: "final_pro" },
          { text: "Ainda n√£o fui aprovado", next: 11 },
        ],
      },
      // STEP 11: Usu√°rio progredindo mas sem aprova√ß√£o
      {
        id: 11,
        question: "Voc√™ sente que poderia avan√ßar ainda mais se tivesse uma rotina mais clara, revis√£o eficiente e um m√©todo pronto?",
        options: [
          { text: "Sim, acho que sim", next: "final" },
          { text: "N√£o, j√° estou satisfeito", next: "final_pro" },
        ],
      },
      // ==== FINAIS ====
      // FINAL: Manual como solu√ß√£o natural
      {
        id: "final",
        type: "final",
        message: (state) => `
          <div class="final-mensagem">
            <h2>Diagn√≥stico do seu estudo</h2>
            <p>${state.nome ? state.nome + "," : ""} analisando suas respostas, percebo que voc√™ tem exatamente os desafios que mais impedem a aprova√ß√£o em concursos:</p>
            <ul>
              ${stateStorageToList(state)}
            </ul>
            <p><b>O Manual do Aprovado ‚Äì Vers√£o do Iniciante</b> resolve de forma PR√ÅTICA todos esses pontos. Ele n√£o √© mais um PDF gen√©rico: √© um roteiro testado, validado, sem enrola√ß√£o, direto para quem est√° come√ßando do zero ou se sente travado.</p>
            <a class="cta" href="https://wa.me/SEUNUMERO" target="_blank">QUERO RECEBER O MEU MANUAL</a>
            <p class="mini">Ou siga nosso conte√∫do no <a href="https://instagram.com/pg_concursos_" target="_blank">Instagram</a>.</p>
          </div>
        `,
      },
      // FINAL: Usu√°rio j√° aprovado e satisfeito
      {
        id: "final_pro",
        type: "final",
        message: (state) => `
          <div class="final-mensagem">
            <h2>Parab√©ns pela conquista!</h2>
            <p>${state.nome ? state.nome + "," : ""} √© muito bom saber que voc√™ j√° trilhou parte do caminho! Se quiser otimizar ainda mais, ajudar amigos, ou avan√ßar para cargos maiores, o Manual do Aprovado pode ser um aliado. üòâ</p>
            <a class="cta" href="https://wa.me/SEUNUMERO" target="_blank">CONHECER O MANUAL</a>
            <p class="mini">Acompanhe tamb√©m no <a href="https://instagram.com/pg_concursos_" target="_blank">Instagram</a>.</p>
          </div>
        `,
      },
    ];

    // ==== RESUMO DIN√ÇMICO PARA O FINAL ====
    function stateStorageToList(state) {
      let lista = [];
      if (state[1] === 0) lista.push("<li>‚Ä¢ Falta evolu√ß√£o real nos estudos</li>");
      if (state[2] === 0) lista.push("<li>‚Ä¢ Tentou v√°rios m√©todos, sem resultado</li>");
      if (state[3] === 1 || state[4] === 1 || state[6] === 1) lista.push("<li>‚Ä¢ Falta organiza√ß√£o e plano de estudos eficiente</li>");
      if (state[5] === 1) lista.push("<li>‚Ä¢ Revis√£o pouco eficiente</li>");
      if (state
