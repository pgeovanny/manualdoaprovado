<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Manual do Aprovado – Iniciante</title>
  <style>
    /* ===== ROOT ===== */
    :root {
      --bg-dark: #0f121a;
      --bg-light: #F5FAFF;
      --text-light: #F5FAFF;
      --text-dark: #233241;
      --accent1: #38C1F3;
      --accent2: #2A6BBA;
      --glass: rgba(255,255,255,0.15);
      --radius: 18px;
      --shadow: 0 8px 24px rgba(0,0,0,0.15);
      --transition: 0.3s ease;
    }
    *,*::before,*::after { box-sizing:border-box; margin:0; padding:0; }
    body,html { width:100%; height:100%; overflow:hidden; font-family:'Inter',sans-serif; background:var(--bg-dark); color:var(--text-light); }
    button { cursor:pointer; outline:none; border:none; font-family:inherit; }

    /* ===== CANVAS PARTICLES ===== */
    #canvas { position:absolute; top:0; left:0; width:100%; height:100%; z-index:0; }

    /* ===== WRAPPER & SCREENS ===== */
    #wrapper { position:relative; width:100vw; height:100vh; overflow:hidden; }
    .screen { position:absolute; top:0; left:0; width:100%; height:100%; display:none; align-items:center; justify-content:center; padding:24px; transition:opacity var(--transition); z-index:1; }
    .screen.active { display:flex; opacity:1; }

    /* ===== ROBÔ E PROGRESS ===== */
    #robot { position:absolute; top:24px; right:24px; width:64px; height:64px; z-index:2; animation:bob 3s infinite ease-in-out; cursor:default; }
    @keyframes bob { 0%,100%{transform:translateY(0);}50%{transform:translateY(-6px);} }
    .halo { fill:none; stroke-width:6; stroke-linecap:round; transition:stroke var(--transition); }
    .face { fill:var(--text-light); }

    /* ===== HERO ===== */
    #screen-intro .card { background:var(--glass); backdrop-filter:blur(12px); border-radius:var(--radius); box-shadow:var(--shadow); text-align:center; padding:32px; }
    #screen-intro h1 { font-family:'Montserrat',sans-serif; color:var(--accent1); font-size:2.4rem; opacity:0; animation:fadeIn 1s forwards .3s; }
    #screen-intro .subtitle { margin:16px 0; font-size:1rem; opacity:0; animation:fadeIn 1s forwards .7s; }
    #screen-intro .btn-main { margin-top:24px; padding:16px 0; width:100%; border-radius:28px;
      background:linear-gradient(90deg,var(--accent2),var(--accent1)); color:#fff; font-size:1.05rem; font-weight:700;
      box-shadow:0 0 12px var(--accent1); position:relative; overflow:hidden; transition:transform .2s; }
    #screen-intro .btn-main::after {
      content:""; position:absolute; top:0; left:0; width:100%; height:100%;
      background:rgba(255,255,255,0.2); transform:scaleX(0); transform-origin:left; transition:transform .4s;
    }
    #screen-intro .btn-main:hover { transform:scale(1.03); }
    #screen-intro .btn-main:hover::after { transform:scaleX(1); }

    /* ===== QUIZ GLASS ===== */
    .card-quiz { background:var(--glass); backdrop-filter:blur(12px); border-radius:var(--radius); box-shadow:var(--shadow); padding:32px; width:100%; max-width:420px; text-align:center; }
    .progress-container { position:relative; width:100px; height:100px; margin:0 auto 16px; }
    progress-bg { stroke:rgba(255,255,255,0.2); }
    .progress-bg, .progress-bar { cx:50; cy:50; r:45; }
    .progress-bar { stroke:var(--accent1); stroke-dasharray:283; stroke-dashoffset:283; }
    #screen-quiz svg { transform:rotate(-90deg); }
    .question { font-size:1.05rem; line-height:1.4; margin:16px 0; min-height:60px; position:relative; }
    .input-box { padding:16px; border-radius:14px; border:1px solid rgba(255,255,255,0.3); transition:var(--transition); }
    .input-box:focus-within { border-color:var(--accent1); box-shadow:0 0 12px rgba(56,193,248,0.5); }
    .btn-group { display:flex; gap:12px; justify-content:center; margin-top:16px; }
    .btn-sml { flex:1; padding:12px 0; border-radius:24px; font-size:.95rem; font-weight:600; color:#fff; transition:opacity .2s; }
    .btn-sim { background:var(--accent1); }
    .btn-nao { background:var(--accent2); }
    .btn-back { background:var(--bg-light); color:var(--accent2); border:1px solid var(--accent2); }
    .btn-sml:hover { opacity:.85; }

    /* TYPEWRITER */
    .typing { border-right:2px solid var(--text-light); white-space:nowrap; overflow:hidden; }

    /* ===== PERSUASION ===== */
    .persuasion { display:none; background:rgba(56,193,248,0.12); border-left:4px solid var(--accent2); padding:16px; margin:18px 0; border-radius:8px; animation:slideIn .4s; }
    .persuasion .btn-group { margin-top:8px; }

    /* ===== DOR CARD ===== */
    .card-dor { background:var(--glass); backdrop-filter:blur(12px); border-radius:var(--radius); box-shadow:var(--shadow); padding:32px; width:100%; max-width:420px; text-align:left; }
    .card-dor h2 { text-align:center; color:var(--accent1); margin-bottom:12px; }
    .list { list-style:none; padding:0; }
    .list li { position:relative; padding-left:24px; margin:8px 0; color:var(--text-light); }
    .list li::before { content:'✔'; position:absolute; left:0; top:2px; color:var(--accent1); }

    /* ===== MANUAL FINAL ===== */
    .card-manual { background:var(--bg-light); border-radius:var(--radius); box-shadow:var(--shadow); padding:32px; width:100%; max-width:420px; text-align:left; transform-style:preserve-3d; transition:transform .3s; }
    .card-manual:hover { transform:perspective(600px) rotateY(4deg) rotateX(2deg); }
    .card-manual h2 { text-align:center; color:var(--accent2); margin-bottom:12px; }
    #featureList { list-style:none; padding:0; margin:16px 0; }
    #featureList li { position:relative; padding-left:24px; margin:10px 0; opacity:0; transition:opacity .5s; }
    #featureList li::before { content:'◆'; position:absolute; left:0; top:2px; color:var(--accent2); }
    .subtitle-final { text-align:center; margin:18px 0; color:var(--text-dark); }
    .cta-group { display:flex; gap:12px; }
    .cta-group a { flex:1; padding:14px 0; border-radius:28px; text-align:center; font-weight:700; color:#fff; transition:transform .2s; }
    .cta-sample { background:var(--accent1); }
    .cta-buy { background:var(--accent2); }
    .cta-group a:hover { transform:scale(1.05); }
    .btn-finish { display:block; margin:24px auto 0; padding:12px 0; width:80%; border:none; border-radius:24px; background:var(--accent2); color:#fff; font-weight:700; transition:transform .2s; }
    .btn-finish:hover { transform:scale(1.03); }

    /* ===== UTIL ===== */
    @keyframes fadeIn { 0%{opacity:0;} 100%{opacity:1;} }
    @keyframes slideIn { 0%{opacity:0;transform:translateX(30px);} 100%{opacity:1;transform:translateX(0);} }
  </style>
</head>
<body>
  <div id="wrapper">
    <canvas id="canvas"></canvas>

    <!-- ROBÔ -->
    <div id="robot">
      <svg width="64" height="64" viewBox="0 0 100 100">
        <circle class="halo" cx="50" cy="50" r="45"/>
        <circle class="face" cx="50" cy="50" r="30"/>
        <circle class="eye" cx="38" cy="45" r="4"/>
        <circle class="eye" cx="62" cy="45" r="4"/>
        <rect x="40" y="60" width="20" height="4" rx="2" ry="2" fill="var(--text-light)"/>
      </svg>
    </div>

    <!-- INTRO -->
    <div id="screen-intro" class="screen active">
      <div class="card">
        <h1 class="intro-title">Manual do Aprovado</h1>
        <div class="subtitle intro-sub">Estude com estratégia e avance rápido.</div>
        <button class="btn-main" onclick="startQuiz()">Começar</button>
      </div>
    </div>

    <!-- QUIZ -->
    <div id="screen-quiz" class="screen">
      <div class="card-quiz">
        <div class="progress-container">
          <svg width="100" height="100">
            <circle class="progress-bg" cx="50" cy="50" r="45"/>
            <circle class="progress-bar" id="bar" cx="50" cy="50" r="45"/>
          </svg>
        </div>
        <div id="qtext" class="question typing input-box"></div>
        <div id="qbtns" class="btn-group">
          <button class="btn-sml btn-sim" onclick="answer('sim')">Sim</button>
          <button class="btn-sml btn-nao" onclick="answer('nao')">Não</button>
          <button class="btn-sml btn-back" onclick="quizBack()">Voltar</button>
        </div>
        <div id="persuasion" class="persuasion"><div id="persuadeTxt" class="typing"></div>
          <div class="btn-group">
            <button class="btn-sml btn-sim" onclick="advanceAfterNo()">Avançar</button>
            <button class="btn-sml btn-back" onclick="quizBack()">Voltar</button>
          </div>
        </div>
        <div class="small" id="visit-quiz"></div>
      </div>
    </div>

    <!-- DOR -->
    <div id="screen-dor" class="screen">
      <div class="card-dor">
        <h2>Dificuldades comuns</h2>
        <ul class="list">
          <li>Horas perdidas sem direção.</li>
          <li>Revisões ineficazes e memória falha.</li>
          <li>Desconhecimento da lei seca.</li>
          <li>Métodos que sugam seu tempo.</li>
        </ul>
        <button class="btn-main" onclick="showManual()">Ver Solução</button>
        <button class="btn-sml btn-back" onclick="quizBack()">Voltar</button>
      </div>
    </div>

    <!-- MANUAL -->
    <div id="screen-manual" class="screen">
      <div class="card-manual">
        <h2>Manual do Aprovado</h2>
        <ul id="featureList">
          <li>Plano estratégico e flexível.</li>
          <li>Revisões práticas e contínuas.</li>
          <li>Controle de horas líquidas.</li>
          <li>Uso de questões para fixar.</li>
          <li>Grifo inteligente sem resumos manuais.</li>
          <li>Leitura eficaz da lei seca.</li>
          <li>Visão de longo prazo e ação eficiente.</li>
        </ul>
        <div class="subtitle-final">Seu tempo de estudo vai finalmente render!</div>
        <div class="cta-group">
          <a class="cta-sample" href="LINK_DA_AMOSTRA" target="_blank">Baixar Amostra</a>
          <a class="cta-buy" href="LINK_DE_AQUISICAO" target="_blank">Adquirir Agora</a>
        </div>
        <button class="btn-finish" onclick="restart()">Voltar ao Início</button>
        <div class="small" id="visit-manual"></div>
      </div>
    </div>
  </div>

  <script>
    // PARTICLES BACKGROUND
    const canvas = document.getElementById('canvas'), ctx = canvas.getContext('2d');
    let w,h,parts=[];
    function init(){ w=canvas.width=innerWidth; h=canvas.height=innerHeight; parts=[];
      for(let i=0;i<120;i++){ parts.push({x:Math.random()*w,y:Math.random()*h,r:1+Math.random()*2,dx:-.2+Math.random()*.4,dy:-.2+Math.random()*.4});}
    }
    function draw(){ ctx.clearRect(0,0,w,h);
      parts.forEach(p=>{ p.x+=p.dx; p.y+=p.dy;
        if(p.x<0||p.x>w)p.dx*=-1; if(p.y<0||p.y>h)p.dy*=-1;
        ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,2*Math.PI); ctx.fillStyle='rgba(56,193,248,0.2)'; ctx.fill();
      }); requestAnimationFrame(draw);
    }
    init(); draw(); onresize=init;

    // ROBÔ CORE
    const robot=document.querySelector('#robot .halo'), colors=['#38C1F3','#2A6BBA','#00D084','#A14AE3'];
    function updateRobot(step){
      robot.setAttribute('stroke',colors[step]||colors[0]);
    }

    // VISITORS
    fetch('https://api.countapi.xyz/hit/manualdoaprovado/iniciante')
      .then(r=>r.json()).then(d=>{
        document.getElementById('visit-quiz').innerText=`👀 ${d.value} visitantes`;
        document.getElementById('visit-manual').innerText=`👀 ${d.value} visitantes`;
      });

    // TYPEWRITER
    function typeWriter(el,t,s=50,cb){ el.textContent=''; let i=0; (function f(){ if(i<t.length){ el.textContent+=t[i++]; setTimeout(f,s);} else if(cb)cb(); })(); }

    /* FLOW */
    const screens=['screen-intro','screen-quiz','screen-dor','screen-manual'];
    const qs=[ "Você já se sentiu perdido sem saber por onde começar?",
               "Quantas horas você já perdeu revisando sem resultado?",
               "Quer usar questões como atalho para o acerto?",
               "Estudar sozinho te deixa inseguro?" ];
    const ps=[ "Perder tempo é doloroso. Quer ver o método que aprova rápido?",
               "Memória falha? Descubra a revisão que fixa em 24h!",
               "Questões são segredos dos aprovados. Avançar para dominar?",
               "Suporte muda tudo. Avançar para descobrir como?" ];
    let idx=0;
    function show(id){ screens.forEach(s=>document.getElementById(s).classList.remove('active')); document.getElementById(id).classList.add('active'); }
    function startQuiz(){ idx=0; document.getElementById('persuasion').style.display='none'; updateRobot(0); showQuestion(); show('screen-quiz'); }
    function showQuestion(){
      updateRobot(idx);
      const qel=document.getElementById('qtext');
      qel.classList.add('typing');
      typeWriter(qel,qs[idx],50,()=>qel.classList.remove('typing'));
      const bar=document.getElementById('bar');
      bar.style.strokeDashoffset=283 - (283*(idx/qs.length));
      document.getElementById('qbtns').style.display='flex';
    }
    function answer(res){
      if(res==='nao'){
        document.getElementById('qbtns').style.display='none';
        document.getElementById('persuasion').style.display='block';
        const ptxt=document.getElementById('persuadeTxt');
        ptxt.classList.add('typing');
        typeWriter(ptxt,ps[idx],40,()=>ptxt.classList.remove('typing'));
      } else {
        idx++;
        if(idx<qs.length){ document.getElementById('persuasion').style.display='none'; showQuestion(); }
        else show('screen-dor');
      }
    }
    function advanceAfterNo(){ answer('sim'); }
    function quizBack(){ if(idx>0){ idx--; document.getElementById('persuasion').style.display='none'; showQuestion(); } else show('screen-intro'); }
    function showManual(){
      show('screen-manual');
      updateRobot(3);
      document.querySelectorAll('#featureList li').forEach((li,i)=>setTimeout(()=>li.classList.add('visible'),i*120));
    }
    function restart(){ show('screen-intro'); updateRobot(0); }
  </script>
</body>
</html>
